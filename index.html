<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zarkolia Health - Professional ERP v64.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Montserrat:wght@900&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #064e3b; --accent: #10b981; --health-gray: #4b5563; --bg: #f8fafc; --white: #ffffff; --border: #cbd5e1; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: #1e293b; margin: 0; padding: clamp(20px, 5vw, 50px); -webkit-font-smoothing: antialiased; }
        .main-container { max-width: 1100px; margin: 0 auto; }
        
        /* BRANDING */
        .luxury-header h1 { font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 3.5rem; text-align: center; color: var(--primary); letter-spacing: -3px; margin-bottom: 5px; }
        .luxury-header h1 span { color: var(--health-gray); font-weight: 300; margin-left: 10px; }
        .scientific-tagline { text-align: center; color: #7c9a64; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; font-size: 14px; margin-bottom: 45px; }

        /* NO SPINNERS */
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }

        /* CARDS & INPUTS */
        .supreme-card { background: var(--white); border-radius: 35px; padding: 45px; box-shadow: 0 15px 40px rgba(0,0,0,0.03); margin-bottom: 35px; border: 1px solid #eef2f6; }
        .card-header { display: flex; align-items: center; gap: 20px; margin-bottom: 35px; border-bottom: 1px solid #f1f5f9; padding-bottom: 15px; }
        .card-header h3 { margin: 0; font-size: 1.3rem; color: var(--primary); text-transform: uppercase; }
        .supreme-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
        .input-field label { display: block; font-size: 0.85rem; font-weight: 800; color: var(--health-gray); text-transform: uppercase; margin-bottom: 10px; }
        .input-field input { width: 100%; border: none; border-bottom: 3px solid #e2e8f0; font-size: 1.4rem; font-weight: 700; color: var(--primary); padding: 8px 0; transition: 0.3s; background: transparent; }
        .input-field input:focus { outline: none; border-color: var(--accent); }

        /* ORDER GRID */
        .order-item { display: grid; grid-template-columns: 1fr 200px 80px 130px; align-items: center; background: #fff; padding: 20px; border-radius: 20px; border: 1px solid #f1f5f9; margin-bottom: 12px; }
        .qty-controls { display: flex; align-items: center; background: #f1f5f9; border-radius: 12px; padding: 5px; gap: 8px; }
        .qty-controls button { width: 38px; height: 38px; border: none; background: #fff; border-radius: 10px; font-weight: 800; cursor: pointer; }
        .qty-controls input { width: 65px; text-align: center; border: 2px solid var(--primary); font-size: 1.4rem; font-weight: 800; border-radius: 8px; }

        /* ROI DASHBOARD */
        .roi-highlight { border: 2px solid var(--accent); }
        .track { height: 16px; background: #e2e8f0; border-radius: 50px; overflow: hidden; margin-top: 15px; }
        .fill { height: 100%; background: var(--accent); width: 0%; transition: 0.8s ease; }
        .roi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-top: 30px; }
        .roi-box { background: #f8fafc; padding: 20px; border-radius: 20px; text-align: center; }
        .roi-box.prime { background: var(--primary); color: #fff; }
        .roi-box .val { display: block; font-size: 2.2rem; font-weight: 900; }

        /* FOOTER */
        .total-summary { background: var(--primary); color: #fff; padding: 45px; border-radius: 30px; display: flex; justify-content: space-between; align-items: center; margin-top: 35px; }
        .sum-value { font-size: 4rem; font-weight: 900; }
        .btn-submit { width: 100%; padding: 25px; background: var(--accent); color: #fff; border: none; border-radius: 20px; font-size: 1.6rem; font-weight: 900; cursor: pointer; margin-top: 20px; }
        
        /* MODAL */
        .modal { display: none; position: fixed; z-index: 999999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(15,23,42,0.85); backdrop-filter: blur(10px); align-items: center; justify-content: center; }
        .modal-content { background: #fff; width: 90%; max-width: 600px; border-radius: 40px; padding: 40px; position: relative; border-top: 12px solid var(--primary); }
    </style>
</head>
<body>
    <div class="main-container">
        <header class="luxury-header"><h1>ZARKOLIA<span>HEALTH</span></h1><p class="scientific-tagline">Scientific Innovation & Nature</p></header>
        <form id="orderForm" onsubmit="return false;">
            <section class="supreme-card">
                <div class="card-header"><span class="icon">ğŸ‘¤</span><h3>Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·Ï‚</h3></div>
                <div class="supreme-grid">
                    <div class="input-field"><label>Î‘Î¦Îœ (Auto-Sync)</label><input type="number" id="afm" placeholder="000000000"></div>
                    <div class="input-field"><label>Î”ÎŸÎ¥</label><input type="text" id="doy"></div>
                    <div class="input-field"><label>Î¤.Îš.</label><input type="number" id="tk"></div>
                    <div class="input-field" style="grid-column: span 2;"><label>Î•Ï€Ï‰Î½Ï…Î¼Î¯Î±</label><input type="text" id="eponimia"></div>
                    <div class="input-field" style="grid-column: span 2;"><label>Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·</label><input type="text" id="address"></div>
                    <div class="input-field"><label>Î ÏŒÎ»Î·</label><input type="text" id="city"></div>
                    <div class="input-field"><label>ÎšÎ¹Î½Î·Ï„ÏŒ</label><input type="tel" id="mobile"></div>
                    <div class="input-field" style="grid-column: span 2;"><label>Email Î Î±ÏÎ±ÏƒÏ„Î±Ï„Î¹ÎºÎ¿Ï</label><input type="email" id="email"></div>
                </div>
            </section>
            <section class="supreme-card">
                <div class="card-header"><span class="icon">ğŸ§¬</span><h3>Î•Ï€Î¹ÏƒÏ„Î·Î¼Î¿Î½Î¹ÎºÎ® Î Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î±</h3></div>
                <div id="orderGrid" class="order-list"></div>
            </section>
            <section class="supreme-card roi-highlight">
                <div class="card-header"><span class="icon">ğŸ“Š</span><h3>Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎŸÏ†Î­Î»Î¿Ï…Ï‚ & ROI</h3></div>
                <div class="roi-engine">
                    <div class="roi-progress"><label>Î ÏÏŒÎ¿Î´Î¿Ï‚ ÎˆÎºÏ€Ï„Ï‰ÏƒÎ·Ï‚ Î¤Î¶Î¯ÏÎ¿Ï… (1% Î±Î½Î¬ 100â‚¬)</label><div class="track"><div class="fill" id="volume-fill"></div></div></div>
                    <div class="roi-grid">
                        <div class="roi-box" id="stat-gifts"><span class="val">0</span><span class="lbl">Î”ÏÏÎ± (9+1, 18+3, 24+6)</span></div>
                        <div class="roi-box" id="stat-cash"><span class="val">0%</span><span class="lbl">ÎˆÎºÏ€Ï„Ï‰ÏƒÎ· ÎœÎµÏ„ÏÎ·Ï„ÏÎ½</span></div>
                        <div class="roi-box prime" id="stat-roi"><span class="val">0.00 â‚¬</span><span class="lbl">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÎ­ÏÎ´Î¿Ï‚</span></div>
                    </div>
                </div>
            </section>
            <div class="action-footer">
                <div style="display:flex; gap:20px; margin-bottom:20px;">
                    <label><input type="checkbox" name="payment" value="Î‘Î½Ï„Î¹ÎºÎ±Ï„Î±Î²Î¿Î»Î® ÎœÎµÏ„ÏÎ·Ï„Î¬" onclick="onlyOne(this)"> ÎœÎµÏ„ÏÎ·Ï„Î¬ (+2%)</label>
                    <label><input type="checkbox" name="payment" value="Î•Ï€Î¹Ï„Î±Î³Î®" onclick="onlyOne(this)"> Î•Ï€Î¹Ï„Î±Î³Î®</label>
                </div>
                <textarea id="remarks" style="width:100%; height:60px; border-radius:12px; padding:15px;" placeholder="Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚..."></textarea>
                <div class="total-summary"><div class="sum-label">Î¤Î•Î›Î™ÎšÎŸ Î ÎŸÎ£ÎŸ ÎœÎ• Î¦Î Î‘</div><div id="final-total" class="sum-value">0.00 â‚¬</div></div>
                <button type="button" class="btn-submit" onclick="processOrder()">ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· & Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
            </div>
        </form>
    </div>
    <div id="productModal" class="modal"></div>

    <script src="products.js"></script>
    <script>
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzMnMtsH8EihoSI4-U2cqz4x3pF6dUqT_WkSWo__WqQFP6D5q8_KCrGWySBaFnqy8dj4w/exec";
        document.addEventListener("DOMContentLoaded", () => { if (typeof products !== 'undefined') renderOrderSystem(); initCRM(); });
        function initCRM() { document.getElementById('afm').addEventListener('input', async function() { if (this.value.length === 9) { try { const r = await fetch(`${GOOGLE_SCRIPT_URL}?afm=${this.value}`); const d = await r.json(); if (d && !d.notfound) { document.getElementById('eponimia').value = d.eponimia || ""; document.getElementById('address').value = d.address || ""; document.getElementById('city').value = d.city || ""; document.getElementById('email').value = d.email || ""; } } catch(e){} } }); }
        function renderOrderSystem() { const container = document.getElementById('orderGrid'); container.innerHTML = ''; products.forEach((p, i) => { const div = document.createElement('div'); div.className = 'order-item'; div.innerHTML = `<div><h4>${p.name} <button class="info-btn" onclick="showInfo('${p.name}', ${i})" style="cursor:pointer; background:#ecfdf5; color:var(--accent); border:2px solid var(--accent); padding:5px 12px; border-radius:10px; font-weight:800; font-size:0.7rem;">INFO</button></h4></div><div class="qty-controls"><button onclick="changeQty(${i},-1)">âˆ’</button><input type="number" id="qty-${i}" value="0" oninput="updateTotals()"><button onclick="changeQty(${i},1)">+</button></div><div id="gift-${i}" style="font-weight:900; color:var(--accent); text-align:center;">0</div><div id="total-${i}" style="font-weight:900; text-align:right;">0.00 â‚¬</div>`; container.appendChild(div); }); }
        function changeQty(i, d) { const el = document.getElementById(`qty-${i}`); el.value = Math.max(0, (parseInt(el.value) || 0) + d); updateTotals(); }
        function updateTotals() { let net = 0, gifts = 0; products.forEach((p, i) => { const q = parseInt(document.getElementById(`qty-${i}`).value) || 0; let g = q >= 24 ? 6 : (q >= 18 ? 3 : (q >= 9 ? 1 : 0)); net += q * p.price; gifts += g; document.getElementById(`gift-${i}`).textContent = g; document.getElementById(`total-${i}`).textContent = (q * p.price).toFixed(2) + " â‚¬"; }); let volPerc = Math.min(10, Math.floor(net / 100)); const isCash = Array.from(document.getElementsByName('payment')).find(c => c.checked)?.value === "Î‘Î½Ï„Î¹ÎºÎ±Ï„Î±Î²Î¿Î»Î® ÎœÎµÏ„ÏÎ·Ï„Î¬"; const cashVal = isCash ? (net * (1 - volPerc/100)) * 0.02 : 0; const finalTotal = (net * (1 - volPerc/100) - cashVal) * 1.24; document.getElementById("final-total").textContent = finalTotal.toFixed(2) + " â‚¬"; document.getElementById("volume-fill").style.width = (volPerc * 10) + "%"; document.getElementById("stat-gifts").querySelector(".val").textContent = gifts; document.getElementById("stat-cash").querySelector(".val").textContent = isCash ? "2%" : "0%"; document.getElementById("stat-roi").querySelector(".val").textContent = (net * (volPerc/100) + cashVal).toFixed(2) + " â‚¬"; }
        function showInfo(name, index) { const p = productDetails[Object.keys(productDetails).find(k => name.includes(k))]; const q = document.getElementById(`qty-${index}`).value; document.getElementById('productModal').innerHTML = `<div class="modal-content"><span style="position:absolute; top:25px; right:35px; cursor:pointer; font-size:2.5rem; color:#94a3b8;" onclick="closeModal()">Ã—</span><h2 style="color:var(--primary); font-size:1.8rem; margin-bottom:20px;">${name}</h2><div style="background:#f8fafc; padding:25px; border-radius:25px; margin:20px 0; max-height:250px; overflow-y:auto; border:1px solid #eef2f6;">${p ? p.moa.map(m => `<p style="font-size:1rem; margin-bottom:12px;"><strong>${m.ing}:</strong> ${m.moa}</p>`).join("") : "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Î±."}</div><div style="display:flex; justify-content:space-between; align-items:center; border-top:1px solid #f1f5f9; padding-top:25px;"><div class="qty-controls"><button onclick="syncModal(${index},-1)">âˆ’</button><input type="number" id="m-qty-${index}" value="${q}" oninput="syncModal(${index},0)"><button onclick="syncModal(${index},1)">+</button></div><button class="btn-submit" style="width:auto; padding:15px 40px; margin:0; font-size:1rem;" onclick="closeModal()">Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— & ÎšÎ›Î•Î™Î£Î™ÎœÎŸ</button></div></div>`; document.getElementById('productModal').style.display = 'flex'; }
        function syncModal(i, d) { const m = document.getElementById(`m-qty-${i}`), main = document.getElementById(`qty-${i}`); let v = Math.max(0, (parseInt(m.value) || 0) + d); m.value = v; main.value = v; updateTotals(); }
        function closeModal() { document.getElementById('productModal').style.display = 'none'; }
        function onlyOne(c) { document.getElementsByName('payment').forEach(b => { if(b !== c) b.checked = false; }); updateTotals(); }
        async function processOrder() { alert("Î— Ï€Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚."); location.reload(); }
    </script>
</body>
</html>
